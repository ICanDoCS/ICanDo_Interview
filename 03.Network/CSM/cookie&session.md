## cookie와 session

#### 💡 cookie와 session에 대해 설명해주세요  

- 쿠키는 서버가 사용자의 웹 브라우저에 저장하는 데이터를 말합니다. 쿠키의 데이터 형태는 Key와 Value로 구성되고, String 형태로 이루어져 있습니다.

  세션은 클라이언트별로 서버에 저장되는 정보로, 사용자 컴퓨터에 저장되던 쿠키와 다르게 서버에 저장되므로, 비교적 보안이 필요한 데이터는 쿠키보다 세션에 저장합니다.

<br>

#### 💡 Session 동작 순서를 설명해주세요.  

- 클라이언트가 처음 서버로 http 요청을 시도하면, 서버쪽에서는 전달받은 세션 ID가 없으므로 생성합니다.

  생성한 세션 ID를 쿠키에 넣어 클라이언트에게 전달하는데, 이 때 만약 클라이언트가 쿠키를 사용하지 않을 경우에는 URL에 붙여서 전달합니다.

  클라이언트쪽에서는 받은 세션 ID를 쿠키에 저장합니다. 쿠키는 session 종료 시 같이 소멸되는 Memory Cookie로 저장합니다.

  같은 페이지에 2번째 요청할 때, 클라이언트는 세션 ID를 가지고 있으므로 이를 request header에 넣어 전달하고, 서버는 전달받은 세션 ID가 있으므로 새로 생성하지 않고, 해당 세션 ID에 맞는 정보를 전달해줍니다.

<br>

#### 💡 cookie를 쓰는 이유를 설명해주세요  

- 세션은 서버에 저장되고, 서버 자원을 사용하기 때문에 사용자가 많을 경우 소모되는 자원이 많습니다. 이러한 자원관리 차원에서 쿠키와 세션을 적절한 요소 및 기능에 병행 사용하여, 서버 자원의 낭비를 방지하며 웹 사이트의 속도를 높일 수 있습니다.


<br>

#### 💡 세션 인증방식 단점  

- 세션 인증방식은 서버에서 클라이언트의 상태를 모두 유지하고 있어야 하므로, 클라이언트 수에 따른 메모리나 DB에 부하가 심합니다.

<br>

#### 💡 토큰 인증방식

- 토큰 인증 방식은 인증받은 사용자들에게 토큰을 발급하고, 서버에 요청을 할 때 헤더에 토큰을 함께 보내도록 하여 유효성 검사를 하는 방식입니다. 이 방식을 사용하면 사용자의 인증 정보를 서버나 세션에 유지하지 않아도 되므로, Stateless한 구조를 갖습니다.

<br>

#### 💡 JWT   

- JWT는 JSON 포맷을 이용해 사용자에 대한 속성을 저장하는 Web Token입니다. JWT는 토큰 자체를 정보로 사용하는 Self-Contained 방식으로 정보를 안전하게 전달합니다. (정보를 암호화해서 저장하므로)

<br>

#### 💡 토큰 인증방식 단점  

- 토큰 자체에 정보를 담고 있으므로 양날의 검이 될 수 있습니다. 또한, 토큰의 페이로드에 3종류의 클레임을 저장하기 때문에, 정보가 많아질수록 토큰의 길이가 늘어나 네트워크에 부하를 줄 수 있습니다.

<br>

#### 💡 쿠키 인증방식 해결방안 

- JWT를 사용해서 인증한다.

<br>

<br>

## 🏃🏻‍♀️ 정리





<br>

---

**[참고]**

[cookie와 session](https://devuna.tistory.com/23)

[세션이란](https://sh77113.tistory.com/243)

[세션 동작 방식](https://joont92.github.io/http/Session%20%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D/)

[쿠키, 세션](https://hahahoho5915.tistory.com/32)

[세션 기반 인증 방식](https://millo-l.github.io/Session-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D%EB%B0%A9%EC%8B%9D/)

[토큰 기반 인증 vs 서버 기반 인증](https://mangkyu.tistory.com/55)

[JWT](https://mangkyu.tistory.com/56?category=925341)