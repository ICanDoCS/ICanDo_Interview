

## [OSI 7 layers와 TCP/IP 4 layer](#osi-7-layers와-tcpip-4-layers-답변)
#### 💡 OSI 7 Layer 또는 TCP/IP Layer와 각 계층에 대한 설명을 해주세요.

![image-20210708221219552](/image/1)

##### 1) 물리(Physical)

> 리피터, 케이블, 허브 등

단지 데이터 전기적인 신호로 변환해서 주고받는 기능을 진행하는 공간

즉, 데이터를 전송하는 역할만 진행한다.



##### 2) 데이터 링크(Data Link)

> 브릿지, 스위치 등

물리 계층으로 송수신되는 정보를 관리하여 안전하게 전달되도록 도와주는 역할

Mac 주소를 통해 통신한다. 프레임에 Mac 주소를 부여하고 에러검출, 재전송, 흐름제어를 진행한다.



##### 3) 네트워크(Network)

> 라우터, IP

데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능을 담당한다.

라우터를 통해 이동할 경로를 선택하여 IP 주소를 지정하고, 해당 경로에 따라 패킷을 전달해준다.

라우팅, 흐름 제어, 오류 제어, 세그먼테이션 등을 수행한다.



##### 4) 전송(Transport)

> TCP, UDP

TCP와 UDP 프로토콜을 통해 통신을 활성화한다. 포트를 열어두고, 프로그램들이 전송을 할 수 있도록 제공해준다.

\- TCP : 신뢰성, 연결지향적

\- UDP : 비신뢰성, 비연결성, 실시간



##### 5) 세션(Session)

> API, Socket

데이터가 통신하기 위한 논리적 연결을 담당한다. TCP/IP 세션을 만들고 없애는 책임을 지니고 있다.



##### 6) 표현(Presentation)

> JPEG, MPEG 등

데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당한다.

파일 인코딩, 명령어를 포장, 압축, 암호화한다.



##### 7) 응용(Application)

> HTTP, FTP, DNS 등

최종 목적지로, 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.

사용자 인터페이스, 전자우편, 데이터베이스 관리 등의 서비스를 제공한다.



#### 💡 OSI 7 Layer 또는 TCP/IP Layer에서 계층화하는 이유가 무엇인가요?

- 시스템 간의 통신을 개방하기 위해서 (OSI 7계층이 생기기 이전에는 표준이 존재하지 않아 각양각색으로 개발을 했기 때문에 데이터 전송이 어려웠음)

- 통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있기 때문이다.

  

#### 💡 Encapsulation과 Decapsulation을 서로 비교하며 설명해주세요

> 캡슐화는 데이터가 추가됨, 역 캡슐화는 정보를 제거함

- **Encapsulation** (캡슐화)

  - 상위 계층에서 하위 계층으로 이동하면서 각 계층의 기능들을 헤더에 담아서 합치는 방식
  - 통신할 때, 제어와 주소 정보를 가지고 있는 헤더가 계층을 내려가며 데이터에 추가되는 것 

- **Decapsulation** (역 캡슐화)

  - 수신한 데이터를 하위 계층에서 상위 계층으로 올라갈 때, 각 계층들의 헤더를 풀면서 올라가는 방식

  - 추가 정보를 제거하고 수신지의 계층까지의 응용데이터만 보내는 것

    

#### 💡 IP 주소 및 MAC 주소는?

> 공통점, 네트워크 통신에서 통신기기의 식별번호를 나타내는 것

- MAC 주소

  - 데이터 링크 계층(2계층)에서 사용하는 네트워크 인터페이스에 할당된 고유 식별 주소

  - 물리 주소나 하드웨어 주소라고도 불린다.

    ex) D1:F2:FK:CC:12:34

- IP 주소

  - 호스트나 라우터 장비의 인터페이스에 할당된 32bit의 주소(IPv4기준, IPv6는 128bit)

  - 이 주소를 통해서, 장치들이 서로를 인식하고 통신할 수 있습니다.

    ex) 192.168.107.11

    

#### 💡 IPV4 vs IPV6 을 설명해주세요.

| 구분              | IPv4                                 | IPv6                                                         |
| ----------------- | ------------------------------------ | ------------------------------------------------------------ |
| 주소길이          | 32bit                                | 128bit                                                       |
| 표시 방법         | 8비트씩 4부분 10진수 표시            | 16비트 8부분 16진수로 표시                                   |
| 주소 개수         | 약 43억개                            | 2^128개                                                      |
| 주소할당 방식     | A,B,C,D 등의 클래스 단위 비순차 할당 | 네트워크 규모, 단말기수에 따라 순차 할당                     |
| 브로트캐스트 주소 | 있음                                 | 없음, 대신 로컬범위 내에서 모든 노드에 대한 멀티캐스트 주소 사용 |
| 헤더 크기         | 가변                                 | 고정                                                         |
| 보안              | IPSec 프로토콜 별도 설치             | IPSec 자체 지원(보안성 강화)                                 |
| 서비스 품질       | 제한적 품질 보장                     | 확장된 품질 보장(트래픽 효과적으로 분류-플로우 레이블(Flow Label) 필드 이용) |
| QoS 제공          | 미흡                                 | 제공                                                         |



#### 💡 IPv4의 주소 부족현상을 해결하기 위해 현재 어떤 방법을 사용하고 있나요? - 심화

- **IPv6**

  - 현재 인터넷 프로토콜인 IPv4의 한계인 주소 표현의 제약으로 인한 **주소고갈** 및 **멀티미디어 서비스 대응 미약** 등을 고려하여 생긴 차세대 인터넷 프로토콜

    

## [TCP와 UDP](#tcp와-udp-답변)
#### 💡 TCP와 UDP의 특징과 차이점을 설명해주세요.

> 네트워크 계층 중 **전송 계층**에서 사용하는 프로토콜

- TCP(Transmission Control Protocol)
  - 인터넷 상에서 데이터를 메세지의 형태(**세그먼트** 라는 블록 단위)로 보내기 위해 IP와 함께 사용하는 프로토콜이다.

  - TCP와 IP를 함께 사용하는데, IP가 데이터의 배달을 처리한다면 TCP는 패킷을 추적 및 관리한다.

  - 연결형 서비스로 가상 회선 방식을 제공한다.

    - 3-way handshaking과정을 통해 연결을 설정하고, 4-way handshaking을 통해 연결을 해제한다.

  - 흐름제어 및 혼잡제어를 제공한다.

    - 흐름제어
      - 데이터를 송신하는 곳과 수신하는 곳의 데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지하는 것
      - 송신하는 곳에서 감당이 안되게 많은 데이터를 빠르게 보내 수신하는 곳에서 문제가 일어나는 것을 막는다.
    - 혼잡제어
      - 네트워크 내의 패킷 수가 넘치게 증가하지 않도록 방지하는 것
      - 정보의 소통량이 과다하면 패킷을 조금만 전송하여 혼잡 붕괴 현상이 일어나는 것을 막는다.

  - 높은 신뢰성을 보장한다.

  - UDP보다 속도가 느리다.

  - 전이중(Full-Duplex), 점대점(Point to Point) 방식이다.

    - 전이중
      - 전송이 양방향으로 동시에 일어날 수 있다.
    - 점대점
      - 각 연결이 정확히 2개의 종단점을 가지고 있다.
    - 멀티캐스팅이나 브로드캐스팅을 지원하지 않는다.

  - 연속성보다 신뢰성있는 전송이 중요할 때에 사용된다.

    

- UDP(User Datagram Protocol)
  - 데이터를 **데이터그램** 단위로 처리하는 프로토콜이다.

  - 비연결형 서비스로 데이터그램 방식을 제공한다.

    - 연결을 위해 할당되는 논리적인 경로가 없다.
    - 그렇기 때문에 각각의 패킷은 다른 경로로 전송되고, 각각의 패킷은 독립적인 관계를 지니게 된다.
    - 이렇게 데이터를 서로 다른 경로로 독립적으로 처리한다.

  - 정보를 주고 받을 때 정보를 보내거나 받는다는 신호절차를 거치지 않는다.

  - UDP헤더의 CheckSum 필드를 통해 최소한의 오류만 검출한다.

  - 신뢰성이 낮다.

  - TCP보다 속도가 빠르다.

  - 신뢰성보다는 연속성이 중요한 서비스, 예를 들면 실시간 서비스(streaming)에 사용된다.

    

#### 💡 TCP를 사용하는 대표적인 프로토콜은 무엇인가요?

- 

#### 💡 3-Handshaking과 4-Handshaking의 과정을 설명해주세요. 

- **3 way handshake - 연결 성립**

> TCP는 정확한 전송을 보장해야 한다. 
>
> 따라서 통신하기에 앞서, 논리적인 접속을 성립하기 위해 3 way handshake 과정을 진행한다.

[![img](https://camo.githubusercontent.com/4acea6af95884347810f057d00c6c4643a56d4a7dbbdf49740745560cd45cc1f/68747470733a2f2f6d656469612e6765656b73666f726765656b732e6f72672f77702d636f6e74656e742f75706c6f6164732f5443502d636f6e6e656374696f6e2d312e706e67)](https://camo.githubusercontent.com/4acea6af95884347810f057d00c6c4643a56d4a7dbbdf49740745560cd45cc1f/68747470733a2f2f6d656469612e6765656b73666f726765656b732e6f72672f77702d636f6e74656e742f75706c6f6164732f5443502d636f6e6e656374696f6e2d312e706e67)

1. 클라이언트가 서버에게 SYN 패킷을 보냄 (sequence : x)
2. 서버가 SYN(x)을 받고, 클라이언트로 받았다는 신호인 ACK와 SYN 패킷을 보냄 (sequence : y, ACK : x + 1)
3. 클라이언트는 서버의 응답은 ACK(x+1)와 SYN(y) 패킷을 받고, ACK(y+1)를 서버로 보냄

이렇게 3번의 통신이 완료되면 연결이 성립된다. (3번이라 3 way handshake인 것)



- **4 way handshake - 연결 해제**

> 연결 성립 후, 모든 통신이 끝났다면 해제해야 한다.

[![img](https://camo.githubusercontent.com/8bb8960e46a3bfada6a237a7a91bce75a0a3e0e34eab5c1f5143ca6fe34d0b5f/68747470733a2f2f6d656469612e6765656b73666f726765656b732e6f72672f77702d636f6e74656e742f75706c6f6164732f434e2e706e67)](https://camo.githubusercontent.com/8bb8960e46a3bfada6a237a7a91bce75a0a3e0e34eab5c1f5143ca6fe34d0b5f/68747470733a2f2f6d656469612e6765656b73666f726765656b732e6f72672f77702d636f6e74656e742f75706c6f6164732f434e2e706e67)

1. 클라이언트는 서버에게 연결을 종료한다는 FIN 플래그를 보낸다.
2. 서버는 FIN을 받고, 확인했다는 ACK를 클라이언트에게 보낸다. (이때 모든 데이터를 보내기 위해 CLOSE_WAIT 상태가 된다)
3. 데이터를 모두 보냈다면, 연결이 종료되었다는 FIN 플래그를 클라이언트에게 보낸다.
4. 클라이언트는 FIN을 받고, 확인했다는 ACK를 서버에게 보낸다. (아직 서버로부터 받지 못한 데이터가 있을 수 있으므로 TIME_WAIT을 통해 기다린다.)

- 서버는 ACK를 받은 이후 소켓을 닫는다 (Closed)
- TIME_WAIT 시간이 끝나면 클라이언트도 닫는다 (Closed)

이렇게 4번의 통신이 완료되면 연결이 해제된다.



#### 💡 3-way handshaking 과정에서 클라이언트가 서버가 보낸 ACK+SYN을 받지 못하면? - 서버 심화



#### 💡 UDP에서 신뢰도를 보장하는 방법을 설명해주세요.



## [HTTP와 HTTPS](#http와-https-답변)
#### 💡 HTTP와 HTTPS를 설명해주세요

- ##### HTTP 프로토콜

  - 개념

    - HyperText Transfer Protocol
    - 웹 상에서 클라이언트와 서버 간에 요청/응답(request/response)으로 정보를 주고 받을 수 있는 프로토콜

  - 특징

    - 주로 HTML 문서를 주고받는 데에 쓰인다.

    - TCP와 UDP를 사용하며, **80번 포트**를 사용한다.

    - 1. 비연결(Connectionless)

      - 클라이언트가 요청을 서버에 보내고 서버가 적절한 응답을 클라이언트에 보내면 바로 연결이 끊긴다.

    - 1. 무상태(Stateless)

      - 연결을 끊는 순간 클라이언트와 서버의 통신은 끝나며 상태 정보를 유지하지 않는다.

- **HTTPS 프로토콜**

  - 개념
    - HyperText Transfer Protocol over Secure Socket Layer
      - 또는 HTTP over TLS, HTTP over SSL, HTTP Secure
    - 웹 통신 프로토콜인 HTTP의 보안이 강화된 버전의 프로토콜
  - 특징
    - HTTPS의 기본 TCP/IP 포트로 **443번 포트**를 사용한다.
    - HTTPS는 소켓 통신에서 일반 텍스트를 이용하는 대신에, 웹 상에서 정보를 암호화하는 SSL이나 TLS 프로토콜을 통해 세션 데이터를 암호화한다.
      - TLS(Transport Layer Security) 프로토콜은 SSL(Secure Socket Layer) 프로토콜에서 발전한 것이다.
      - 두 프로토콜의 주요 목표는 기밀성(사생활 보호), 데이터 무결성, ID 및 디지털 인증서를 사용한 인증을 제공하는 것이다.
    - 따라서 데이터의 적절한 보호를 보장한다.
      - 보호의 수준은 웹 브라우저에서의 구현 정확도와 서버 소프트웨어, 지원하는 암호화 알고리즘에 달려있다.
    - 금융 정보나 메일 등 중요한 정보를 주고받는 것은 HTTPS를, 아무나 봐도 상관 없는 페이지는 HTTP를 사용한다.



#### 💡 HTTP의 단점을 설명해주세요

- 웹 페이지(HTML)는 텍스트이고, HTTP를 통해 이런 텍스트 정보를 교환하는 것이다.

- 이때 주고받는 텍스트 정보에 주민등록번호나 비밀번호와 같이 민감한 정보가 포함된 상태에서 네트워크 상에서 중간에 제3자가 정보를 가로챈다면 보안상 큰 문제가 발생한다.

- 즉, 중간에서 정보를 볼 수 없도록 주고받는 정보를 암호화하는 방법인 HTTPS를 사용하는 것이다.

  

#### 💡 HTTP 1.0+와 HTTP1.1와 HTTP2.0 차이점은 무엇인가요?

- 

#### 💡 HTTP는 왜 비연결성인가? - 서버 심화

- 웹 페이지를 보는 중 인터넷 연결이 끊겼다가 다시 연결되어도 페이지를 계속 볼 수 있게 하기 위해서

  

#### 💡 모든 웹 페이지에서 HTTPS 를 사용하지 않는 이유를 설명해주세요.

- 암호화를 하는 과정이 웹 서버에 부하를 준다.

- HTTPS는 설치 및 인증서를 유지하는데 추가 비용이 발생한다.

- HTTP에 비해 느리다.

- 인터넷 연결이 끊긴 경우 재인증 시간이 소요된다

  

#### 💡 비대칭키 또는 공개키 암호화 방식은 무엇인가요?
#### 💡 HTTP REQUEST 방식 중 GET과 POST의 차이을 설명해주세요.

> HTTP 프로토콜을 이용해서 서버에 데이터(요청 정보)를 전달할 때 사용하는 방식

- GET 메서드 방식

  - 개념

    - 정보를 조회하기 위한 메서드
    - 서버에서 어떤 데이터를 가져와서 보여주기 위한 용도의 메서드
    - **가져오는 것(Select)**

  - 사용 방법

    - URL의 끝에 '?'가 붙고, 요청 정보가 (key=value)형태의 쌍을 이루어 ?뒤에 이어서 붙어 서버로 전송한다.

    - 요청 정보가 여러 개일 경우에는 '&'로 구분한다.

      Ex) `www.urladdress.xyz?name1=value1&name2=value2`

  - 특징

    - URL에 요청 정보를 붙여서 전송한다.

    - URL에 요청 정보가 이어붙기 때문에 길이 제한이 있어서 대용량의 데이터를 전송하기 어렵다.

      - 한 번 요청 시 전송 데이터(주솟값 + 파라미터)의 양은 255자로 제한된다.(HTTP/1.1은 2048자)

    - 요청 정보를 사용자가 쉽게 눈으로 확인할 수 있다.

      - POST 방식보다 보안상 취약하다.

    - HTTP 패킷의 Body는 비어 있는 상태로 전송한다.

      

- POST 메서드 방식

  - 개념

    - 서버의 값이나 상태를 바꾸기 위한 용도의 메서드
    - **수행하는 것(Insert, Update, Delete)**

  - 사용 방법

    - 요청 정보를 HTTP 패킷의 Body 안에 숨겨서 서버로 전송한다.

    - Request Header의 Content-Type에 해당 데이터 타입이 표현되며, 전송하고자 하는 데이터 타입을 적어주어야 한다.

  - 특징

    - Body 안에 숨겨서 요청 정보를 전송하기 때문에 대용량의 데이터를 전송하기에 적합하다.
    - 클라이언트 쪽에서 데이터를 인코딩하여 서버로 전송하고, 이를 받은 서버 쪽이 해당 데이터를 디코딩한다.
    - GET 방식보다 보안상 안전하다

#### 💡 GET, POST를 제외하고 다른 방식들을 설명해주세요.
#### 💡 조회하기 위한 용도 POST가 아닌 GET 방식을 사용하는 이유?  

1. 설계 원칙에 따라 GET 방식은 서버에게 여러 번 요청을 하더라도 동일한 응답이 돌아와야 한다.

   - GET 방식은 **가져오는 것(Select)** 으로, 서버의 데이터나 상태를 변경시키지 않아야 한다.

2. 웹에서 모든 리소스는 Link할 수 있는 URL을 가지고 있어야 한다.

   - 어떤 웹페이지를 보고 있을 때 다른 사람한테 그 주소를 주기 위해서 주소창의 URL을 복사해서 줄 수 있어야 한다.

   - 이때 POST 방식을 사용할 경우에 값(링크의 정보)이 Body에 있기 때문에 URL만 전달할 수 없으므로 GET 방식을 사용해야한다. 그러나 글을 저장하는 경우에는 URL을 제공할 필요가 없기 때문에 POST 방식을 사용한다.

     

#### 💡 현대 웹 에서는 비연결성을 해결방법을 설명해주세요. - 서버 심화



## [로드밸런서](#로드밸런서-답변) - 서버 개발자만 답변할 것
#### 💡 로드 밸런싱을 설명해주세요.  

> 둘 이상의 CPU or 저장장치와 같은 컴퓨터 자원들에게 작업을 나누는 것

- **로드 밸런싱**은 분산식 웹 서비스로, 여러 서버에 부하(Load)를 나누어주는 역할을 한다. 
- Load Balancer를 클라이언트와 서버 사이에 두고, 부하가 일어나지 않도록 여러 서버에 분산시켜주는 방식이다. 
- 서비스를 운영하는 사이트의 규모에 따라 웹 서버를 추가로 증설하면서 로드 밸런서로 관리해주면 웹 서버의 부하를 해결할 수 있다.

#### 💡 L4 로드 밸런싱과 L7 로드 밸런싱에 대해 설명하고, 차이를 말해보세요  

- L4 로드 밸런싱
  - 주로 **Round Robin** 방식을 사용하며, **네트워크 계층(IP, IPX)이나 트랜스포트 계층(TCP, UDP)의 정보**를 바탕으로 로드를 분산시킨다.
- L7 로드 밸런싱
  - **애플리케이션 계층(HTTP, FTP, SMTP)에서 로드를 분산**하기 때문에 HTTP 헤더, 쿠키 등과 같은 사용자의 요청을 기준으로 특정 서버에 트래픽을 분산하는 것이 가능하다.
  - **패킷의 내용을 확인하고 그 내용에 따라 로드를 특정 서버에 분배하는 것이 가능한 것**

|               | L4 로드밸런서                                                | L7 로드밸런서                                                |
| ------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 네트워크 계층 | 전송계층                                                     | 응용계층                                                     |
| 특징          | TCP/UDP 포트 정보를 바탕으로                                 | TCP/UDP 포트 정보 + HTTP의 URI, FTP의 파일명, 쿠키 정보 등을 바탕으로 |
| 장점          | 1. 속도가 빠르고 효율이 높음<br /> 2. 데이터의 내용을 복호화할 필요가 없어서 안전함<br />3. L7 로드 밸런서보다 가격이 저렴함 | 1. 상위 계층에서 로드를 분산하기 때문에 더 섬세한 라우팅이 가능함<br />2. 캐싱 기능을 제공함<br />3. 비정상적인 트래픽을 사전에 필터링할 수 있어 서비스 안전성이 높음 |
| 단점          | 1. 패킷의 내용을 볼 수 없기 때문에 섬세한 라우팅이 불가능<br />2. 사용자의 IP가 수시로 바뀌는 경우, 연속적인 서비스 제공이 어려움 | 1. 패킷의 내용을 복호화해야 하기에 더 높은 비용을 지불해야함<br />2. 클라이언트가 로드밸런서와 인증서를 공유하기 때문에 공격자가 로드밸런서를 통해 데이터에 접근할 보안 상의 위험성 존재 |



#### 💡 게이트웨이란?  

- 한 네트워크(segment)에서 다른 네트워크로 이동하기 위하여 거쳐야 하는 지점입니다.

  

#### 💡 서버에 트래픽이 주어졌을 때 어떻게 응답속도를 개선할 수 있는가?  



#### 💡 프라이빗 서브넷과 퍼블릭 서브넷의 차이

- **퍼블릭 서브넷**은 외부에서 직접 IP를 찍어서 들어올 수 있는 **서브넷**이고, **프라이빗 서브넷**은 다른 자원(Load balancer,Proxy 등)을 통하지 않으면 들어올 수 없다.

